import{_ as Z,a as Y,b as $,c as ee,d as te}from"../modules/unplugin-icons-BDrIKf02.js";import{r as y,y as p,A as K,d as O,a1 as ne,a2 as re,a3 as oe,D as M,C as le,a4 as se,p as ie,b as g,a5 as U,o as d,k as h,n as x,a6 as G,f as k,l as ae,g as o,e as _,i as F,F as R,t as D,Z as ce,M as ue,_ as de,J as me,a7 as fe,a8 as _e,w as N}from"../modules/vue-CM72cxEe.js";import{k as ve,b as P,l as pe,r as xe,C as ge,u as ke,c as A,j as be,m as ye,d as he,n as we,g as Ce}from"../index-B5QpxFav.js";import{r as Se,u as ze,I as Ne,S as Fe,G as De,Q as Me,N as Oe,a as Pe}from"./SlidesShow-0s95IFsd.js";import{s as Te,S as He,b as Ie,c as Ee,p as je,d as Le,i as Re,e as Ve}from"./bottom-8ddtRz5W.js";import{N as Q}from"./NoteDisplay-BkWCqzEH.js";import Be from"./DrawingControls-D6ZmqY1s.js";import{u as qe}from"./DrawingPreview-XWeENyaw.js";import"../modules/shiki-PW05pg_G.js";import"./context-C7r9za7J.js";function W(c){var t;return{info:y((t=ve(c))==null?void 0:t.meta.slide),update:async()=>{}}}const L={};function Ke(c){function t(r){return L[r]??(L[r]=W(r))}return{info:p(()=>t(K(c)).info.value),update:async(r,e)=>{const i=t(e??K(c)),l=await i.update(r);return l&&(i.info.value=l),l}}}const Ae=O({__name:"NoteEditable",props:{no:{type:Number,required:!0},class:{default:""},editing:{default:!1},style:{default:()=>({})},placeholder:{default:"No notes for this slide"},clicksContext:{type:Object},autoHeight:{default:!1}},emits:["update:editing","markerDblclick","markerClick"],setup(c,{expose:t,emit:r}){t();const e=c,i=r,l=ne(e,"editing",i,{passive:!0}),{info:s,update:n}=Ke(re(e,"no")),a=y("");let m;const{ignoreUpdates:v}=oe(a,f=>{if(!l.value)return;const T=e.no;clearTimeout(m),m=setTimeout(()=>{n({note:f},T)},500)});M(()=>{var f;return(f=s.value)==null?void 0:f.note},(f="")=>{l.value||(clearTimeout(m),v(()=>{a.value=f}))},{immediate:!0,flush:"sync"});const u=y(),C=y();le(()=>{var f;l.value&&((f=u.value)==null||f.focus())}),se(u,()=>{l.value=!1});function w(){!e.autoHeight||!u.value||!l.value||u.value.scrollHeight>u.value.clientHeight&&(u.value.style.height=`${u.value.scrollHeight}px`)}M([a,l],()=>{ie(()=>{w()})},{flush:"post",immediate:!0});const S={props:e,emit:i,editing:l,info:s,update:n,note:a,get timer(){return m},set timer(f){m=f},ignoreUpdates:v,inputEl:u,inputHeight:C,calculateEditorHeight:w,NoteDisplay:Q};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),Ue=["placeholder"];function Ge(c,t,r,e,i,l){var s;return e.editing?U((d(),k("textarea",{key:1,ref:"inputEl","onUpdate:modelValue":t[2]||(t[2]=n=>e.note=n),class:x(["prose resize-none overflow-auto outline-none bg-transparent block border-primary border-2",e.props.class]),style:h([{"line-height":"1.75"},[e.props.style,e.inputHeight!=null?{height:`${e.inputHeight}px`}:{}]]),placeholder:r.placeholder,onKeydown:t[3]||(t[3]=ae(n=>e.editing=!1,["esc"]))},null,46,Ue)),[[G,e.note]]):(d(),g(e.NoteDisplay,{key:0,class:x(["border-transparent border-2",[e.props.class,e.note?"":"opacity-25 italic select-none"]]),style:h(e.props.style),note:e.note||r.placeholder,"note-html":(s=e.info)==null?void 0:s.noteHTML,"clicks-context":r.clicksContext,"auto-scroll":!r.autoHeight,onMarkerClick:t[0]||(t[0]=(n,a)=>e.emit("markerClick",n,a)),onMarkerDblclick:t[1]||(t[1]=(n,a)=>e.emit("markerDblclick",n,a))},null,8,["class","style","note","note-html","clicks-context","auto-scroll"]))}const Qe=P(Ae,[["render",Ge],["__file","/home/runner/work/zzc_2025_review/zzc_2025_review/node_modules/@slidev/client/internals/NoteEditable.vue"]]),We=O({__name:"NoteStatic",props:{no:{type:Number,required:!0},class:{type:String,required:!1},clicksContext:{type:Object,required:!1}},setup(c,{expose:t}){t();const r=c,{info:e}=W(r.no),i={props:r,info:e,NoteDisplay:Q};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});function Xe(c,t,r,e,i,l){var s,n;return d(),g(e.NoteDisplay,{class:x(e.props.class),note:(s=e.info)==null?void 0:s.note,"note-html":(n=e.info)==null?void 0:n.noteHTML,"clicks-context":r.clicksContext},null,8,["class","note","note-html","clicks-context"])}const Je=P(We,[["render",Xe],["__file","/home/runner/work/zzc_2025_review/zzc_2025_review/node_modules/@slidev/client/internals/NoteStatic.vue"]]),Ze=O({__name:"ClicksSlider",props:{clicksContext:{type:Object,required:!0}},setup(c,{expose:t}){t();const r=c,e=p(()=>r.clicksContext.total),i=p(()=>pe(0,r.clicksContext.clicksStart,e.value)),l=p(()=>e.value-i.value+1),s=p({get(){return r.clicksContext.current>e.value?-1:r.clicksContext.current},set(v){r.clicksContext.current=v}}),n=p(()=>xe(i.value,e.value+1));function a(){(s.value<0||s.value>e.value)&&(s.value=0)}const m={props:r,total:e,start:i,length:l,current:s,clicksRange:n,onMousedown:a,get CLICKS_MAX(){return ge}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),Ye=["title"],$e={class:"flex gap-0.5 items-center min-w-16 font-mono mr1"},et={"text-primary":""},tt={op50:""},nt=["min","max"];function rt(c,t,r,e,i,l){const s=Z;return d(),k("div",{class:x(["flex gap-1 items-center select-none",e.length?"":"op50"]),title:`Clicks in this slide: ${e.length}`},[o("div",$e,[_(s,{"text-sm":"",op50:""}),t[4]||(t[4]=o("div",{"flex-auto":""},null,-1)),e.current>=0&&e.current!==e.CLICKS_MAX?(d(),k(R,{key:0},[o("span",et,D(e.current),1),t[3]||(t[3]=o("span",{op25:""},"/",-1))],64)):F("v-if",!0),o("span",tt,D(e.total),1)]),o("div",{relative:"","flex-auto":"",h5:"","font-mono":"",flex:"~",onDblclick:t[2]||(t[2]=n=>e.current=r.clicksContext.total)},[(d(!0),k(R,null,ce(e.clicksRange,n=>(d(),k("div",{key:n,border:"y main","of-hidden":"",relative:"",class:x([n===0?"rounded-l border-l":"",n===e.total?"rounded-r border-r":""]),style:h({width:e.length>0?`${1/e.length*100}%`:"100%"})},[o("div",{absolute:"","inset-0":"",class:x(n<=e.current?"bg-primary op15":"")},null,2),o("div",{class:x([+n==+e.current?"text-primary font-bold op100 border-primary":"op30 border-main",n===0?"rounded-l":"",n===e.total?"rounded-r":"border-r-2"]),"w-full":"","h-full":"","text-xs":"",flex:"","items-center":"","justify-center":"","z-1":""},D(n),3)],6))),128)),U(o("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>e.current=n),class:"range",absolute:"","inset-0":"",type:"range",min:e.start,max:e.total,step:1,"z-10":"",op0:"",style:h({"--thumb-width":`${1/(e.length+1)*100}%`}),onMousedown:e.onMousedown,onFocus:t[1]||(t[1]=n=>{var a;return(a=n.currentTarget)==null?void 0:a.blur()})},null,44,nt),[[G,e.current]])],32)],10,Ye)}const ot=P(Ze,[["render",rt],["__scopeId","data-v-52a29648"],["__file","/home/runner/work/zzc_2025_review/zzc_2025_review/node_modules/@slidev/client/internals/ClicksSlider.vue"]]),lt=O({__name:"presenter",setup(c,{expose:t}){t();const r=y();Se(),ze(r);const{clicksContext:e,currentSlideNo:i,currentSlideRoute:l,hasNext:s,nextRoute:n,slides:a,queryClicks:m,getPrimaryClicks:v,total:u}=ke(),{isDrawing:C}=qe(),w=A.titleTemplate.replace("%s",A.title||"Slidev");be({title:`Presenter - ${w}`});const S=y(!1),{timer:f,resetTimer:T}=ye(),V=p(()=>a.value.map(I=>he(I))),z=p(()=>e.value.current<e.value.total?[l.value,e.value.current+1]:s.value?[n.value,0]:null),H=p(()=>z.value&&V.value[z.value[0].no-1]);M([l,m],()=>{H.value&&(H.value.current=z.value[1])},{immediate:!0});const X=ue();de(()=>{const I=r.value.querySelector("#slide-content"),q=me(fe()),J=_e();M(()=>{if(!J.value||C.value||!Te.value)return;const b=I.getBoundingClientRect(),E=(q.x-b.left)/b.width*100,j=(q.y-b.top)/b.height*100;if(!(E<0||E>100||j<0||j>100))return{x:E,y:j}},b=>{we.cursor=b})});const B={main:r,clicksContext:e,currentSlideNo:i,currentSlideRoute:l,hasNext:s,nextRoute:n,slides:a,queryClicks:m,getPrimaryClicks:v,total:u,isDrawing:C,slideTitle:w,notesEditing:S,timer:f,resetTimer:T,clicksCtxMap:V,nextFrame:z,nextFrameClicksCtx:H,SideEditor:X,get decreasePresenterFontSize(){return Ve},get increasePresenterFontSize(){return Re},get presenterLayout(){return Le},get presenterNotesFontSize(){return je},get showEditor(){return Ee},get showOverview(){return Ie},get getSlideClass(){return Ce},SlideWrapper:He,SlideContainer:Pe,NavControls:Oe,QuickOverview:Me,NoteEditable:Qe,NoteStatic:Je,Goto:De,SlidesShow:Fe,DrawingControls:Be,IconButton:Ne,ClicksSlider:ot};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),st={class:"bg-main h-full slidev-presenter"},it={ref:"main",class:"relative grid-section main flex flex-col"},at={class:"relative grid-section next flex flex-col p-2 lg:p-4"},ct={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},ut={class:"border-t border-main py-1 px-2 text-sm"},dt={class:"grid-section bottom flex"},mt={class:"text-2xl pl-2 pr-6 my-auto tabular-nums"},ft={class:"progress-bar"};function _t(c,t,r,e,i,l){var v;const s=Y,n=$,a=ee,m=te;return d(),k(R,null,[o("div",st,[o("div",{class:x(["grid-container",`layout${e.presenterLayout}`])},[o("div",it,[_(e.SlideContainer,{key:"main",class:"h-full w-full p-2 lg:p-4 flex-auto"},{default:N(()=>[_(e.SlidesShow,{"render-context":"presenter"})]),_:1}),(d(),g(e.ClicksSlider,{key:(v=e.currentSlideRoute)==null?void 0:v.no,"clicks-context":e.getPrimaryClicks(e.currentSlideRoute),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),t[4]||(t[4]=o("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1))],512),o("div",at,[e.nextFrame&&e.nextFrameClicksCtx?(d(),g(e.SlideContainer,{key:"next",class:"h-full w-full"},{default:N(()=>[(d(),g(e.SlideWrapper,{is:e.nextFrame[0].component,key:e.nextFrame[0].no,"clicks-context":e.nextFrameClicksCtx,class:x(e.getSlideClass(e.nextFrame[0])),route:e.nextFrame[0],"render-context":"previewNext"},null,8,["is","clicks-context","class","route"]))]),_:1})):F("v-if",!0),t[5]||(t[5]=o("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1))]),F(" Notes "),(d(),k("div",ct,[(d(),g(e.NoteStatic,{key:`static-${e.currentSlideNo}`,no:e.currentSlideNo,class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:h({fontSize:`${e.presenterNotesFontSize}em`}),"clicks-context":e.clicksContext},null,8,["no","style","clicks-context"])),o("div",ut,[_(e.IconButton,{title:"Increase font size",onClick:e.increasePresenterFontSize},{default:N(()=>[_(s)]),_:1},8,["onClick"]),_(e.IconButton,{title:"Decrease font size",onClick:e.decreasePresenterFontSize},{default:N(()=>[_(n)]),_:1},8,["onClick"]),F("v-if",!0)])])),o("div",dt,[_(e.NavControls,{persist:!0}),t[6]||(t[6]=o("div",{"flex-auto":""},null,-1)),o("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:t[2]||(t[2]=(...u)=>e.resetTimer&&e.resetTimer(...u))},[_(a,{class:"absolute"}),_(m,{class:"absolute opacity-0"})]),o("div",mt,D(e.timer),1)]),(d(),g(e.DrawingControls,{key:2}))],2),o("div",ft,[o("div",{class:"progress h-3px bg-primary transition-all",style:h({width:`${(e.currentSlideNo-1)/(e.total-1)*100}%`})},null,4)])]),_(e.Goto),_(e.QuickOverview,{modelValue:e.showOverview,"onUpdate:modelValue":t[3]||(t[3]=u=>e.showOverview=u)},null,8,["modelValue"])],64)}const St=P(lt,[["render",_t],["__scopeId","data-v-d0ba6bbb"],["__file","/home/runner/work/zzc_2025_review/zzc_2025_review/node_modules/@slidev/client/pages/presenter.vue"]]);export{St as default};
